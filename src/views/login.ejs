<%- layout('layouts/main.ejs') %>



<header class=" max-w-lg mx-auto">
    <h1 class="text-4xl font-bold text-white text-center">Login</h1>
</header>

<main class="bg-white max-w-lg mx-auto p-8 md:p-12 my-10 rounded-lg shadow-2xl">
<section>
    <h3 class="font-bold text-2xl">Bienvenido al Login</h3>
    <p class="text-gray-600 pt-2">Loguearse a tu cuenta.</p>
</section>

<section class="mt-10">
    <form id="formulario"class="flex flex-col" method="POST" action="/login">
        <div class="mb-6 pt-3 rounded bg-gray-200 ">
            <label class="block text-gray-700 text-sm font-bold mb-2 ml-3"   for="email">Email</label>
            <input type="email" id="email" class="bg-gray-200 rounded w-full text-gray-700 focus:outline-none border-b-4 border-gray-300 focus:border-purple-600 transition duration-500 px-3 pb-3" name="email" >

        </div>

        <div class="mb-6 pt-3 rounded bg-gray-200">
            <label class="block text-gray-700 text-sm font-bold mb-2 ml-3"  for="password">Password</label>
            <input type="password" id="password" class="bg-gray-200 rounded w-full text-gray-700 focus:outline-none border-b-4 border-gray-300 focus:border-purple-600 transition duration-500 px-3 pb-3" name="password">
          

        </div>

        <% var test =mensajeLogin; %>
    
        <% if (mensajeLogin.length > 0) { %>


         

            
            <script>
                const olvidaste = document.querySelector('.olvidaste');
            


                var getTest = "<%= test  %>";  
                console.log(getTest)
       
                const parrafo = document.createElement('p');
                parrafo.textContent = getTest;
                 parrafo.classList.add('text-center','my-10', 'p-2', 'bg-red-500', 'text-white', 'font-bold', 'uppercase');
                 formulario.insertBefore(parrafo, olvidaste);
                
                 setTimeout(() =>{

                  parrafo.remove();
                   resetearFormulario(e);
            
                },3000);
    




            
             </script>
             <script>

                
             </script>
      
      
        
        <%   }  %>

        <div class="flex justify-end olvidaste">
            <a href="/forgot" class="text-sm text-purple-600 hover:text-purple-700 hover:underline mb-6">¿Olvidaste tu passsword?</a>

        </div>

        <div id="spinner">
        <div class="sk-fading-circle">
            <div class="sk-circle1 sk-circle"></div>
            <div class="sk-circle2 sk-circle"></div>
            <div class="sk-circle3 sk-circle"></div>
            <div class="sk-circle4 sk-circle"></div>
            <div class="sk-circle5 sk-circle"></div>
            <div class="sk-circle6 sk-circle"></div>
            <div class="sk-circle7 sk-circle"></div>
            <div class="sk-circle8 sk-circle"></div>
            <div class="sk-circle9 sk-circle"></div>
            <div class="sk-circle10 sk-circle"></div>
            <div class="sk-circle11 sk-circle"></div>
            <div class="sk-circle12 sk-circle"></div>
          </div>
        </div>

        <button class="  bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 rounded shadow-lg hover:shadow-xl transition duration-200" id="loginEnviar" type="submit">Loguearse</button>
            
        
        <button class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 rounded shadow-lg hover:shadow-xl transition duration-200 mt-5" id="resetBtn" >Resetear formulario</button>
            
    
            

    </form>

</section>



</main>


<div class="max-w-lg mx-auto text-center mt-12 mb-6">
<p class="text-white">¿No tenés una cuenta? <a href="/registro" class="font-bold hover:underline">Registrate</a></p>

</div>







